{% set url = url ?? '/' %}
<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8"/>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous"/>
		<link rel="stylesheet" href="{{ url ~ 'assets/css/style.css' }}"/>
		<title>
			{% block title %}
				EtyDict
			{% endblock %}
		</title>
		{% block head %}{% endblock %}
	</head>

	<body class="bg-light d-flex flex-column min-vh-100">
		<nav class="d-flex justify-content-between navbar navbar-expand-lg navbar-light bg-white border-bottom px-5">
			<a class="float-start navbar-brand fw-bold p-0 m-0" href="{{ url }}">
				<img src="{{ url }}assets/img/etydict-logo.webp" alt="EtyDict Logo" width="60" height="60"/>
			</a>
			<div class="d-flex justify-content-center fw-semibold fs-4" id="nav-menu">
				<ul class="navbar-nav gap-5">
					<li class="nav-item">
						<a class="nav-link etymology-link" href="{{ url }}etymology/">Etymology</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="{{ url }}search/">Search</a>
					</li>

					<li class="nav-item">
						<a class="nav-link dictionary-link" href="{{ url }}dictionary/">Dictionary</a>
					</li>
				</ul>
			</div>
			<div id="nav-search" class="nav-search me-5">
				<form id="nav-search-form" class="nav-search-form d-flex align-items-center" method="get" action="{{ url }}dictionary/">
					<button type="button" id="nav-search-mode" class="btn nav-search-mode p-0" data-mode="dictionary">
						<img src="{{ url }}assets/img/dict-logo.webp" alt="Dictionary search">
					</button>
					<input id="nav-search-input" class="nav-search-input form-control fs-5" type="text" name="w" placeholder="Search dictionary">
					<button type="submit" id="nav-search-submit" class="btn nav-search-submit p-0">
						<img src="{{ url }}assets/img/search.svg" alt="Search">
					</button>
				</form>
			</div>
			{% if user is defined and user %}
				{% include 'nav_logged_in.html.twig' %}
			{% else %}
				{% include 'nav_logged_out.html.twig' %}
			{% endif %}
		</nav>
		{% block user_nav %}{% endblock %}
		<div class="row m-0 {% if default_dictionary %}{% else %}flex-grow-1{% endif %}">
			<aside id="left-side-bar" class="col-xxl-3 col-lg-2 col-md-1"></aside>
			<main class="col-xxl-6 col-lg-8 col-md-10 p-0"> {% block body %}{% endblock %}
				</main>
				<aside id="right-side-bar" class="col-xxl-3 col-lg-2 col-md-1"></aside>
			</div>
			<footer class="bg-white border-top py-3 mt-auto">
				<div class="container">
					<div class="row align-items-center">
						<div class="col-md-6 text-md-start text-center">
							<img src="{{ url }}assets/img/etydict-title.webp" class="mb-2" alt="EtyDict Title" width="80"/>
							<p class="mb-0">Free online dictionary and etymology browser.</p>
						</div>
						<div class="col-md-6 py-1">
							<p class="text-dark fw-semibold text-md-end fs-5 text-center mb-3 pe-5 me-5">Explore</p>
							<ul class="list-unstyled d-flex flex-md-row flex-column justify-content-md-end align-items-center gap-4 mb-0">
								<li>
									<a class="text-decoration-none text-black" href="{{ url }}dictionary/">Dictionary</a>
								</li>
								<li>
									<a class="text-decoration-none text-black" href="{{ url }}search/">Search</a>
								</li>
								<li>
									<a class="text-decoration-none text-black" href="{{ url }}etymology/">Etymology</a>
								</li>
							</ul>
						</div>
					</div>
					<div class="text-center text-muted small mt-0">&copy; 2025 EtyDict. All rights reserved.</div>
				</div>
			</footer>
			<script>
				window.etydictBaseUrl = '{{ url }}';
			</script>
			<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
			<script src="{{ url }}assets/js/script.js" defer></script>
			{% block scripts %}{% endblock %}
		</body>
	</html>
